(this["webpackJsonpreact-login-app-2"]=this["webpackJsonpreact-login-app-2"]||[]).push([[0],{366:function(e,t,a){e.exports=a(689)},371:function(e,t,a){},444:function(e){e.exports=JSON.parse('{"apiUrl":"http://127.0.0.1:5000"}')},593:function(e,t){},689:function(e,t,a){"use strict";a.r(t);var n,r,o=a(0),c=a.n(o),l=a(35),i=a.n(l),u=(a(371),a(59)),s=a(60),m=a(63),d=a(61),p=a(64),E=a(51),h=a(65),g=a(23),b=a(21),v=a(697),f=a(24),O=a(25),j=a(693),y=a(699),S=Object(y.a)("FETCH_USER"),x=Object(j.a)(Object(f.a)({},S,(function(e,t){var a=t.payload;return Object(O.a)({},e,{data:a})})),{data:null}),D=a(144),_=Object(y.a)("ADD_EXPENSE"),w=Object(y.a)("GET_EXPENSES_START"),C=Object(y.a)("GET_EXPENSES_END"),k=Object(y.a)("GET_EXPENSES_ERROR"),G=Object(y.a)("DELETE_EXPENSE_SUCCESS"),I=Object(y.a)("DELETE_EXPENSE_ERROR"),T={isFetching:!1,data:null,error:""},P=Object(j.a)((n={},Object(f.a)(n,_,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;return Object(O.a)({},e,{data:[t.payload].concat(Object(D.a)(e.data))})})),Object(f.a)(n,w,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;arguments.length>1&&arguments[1];return Object(O.a)({},e,{isFetching:!0})})),Object(f.a)(n,C,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;return Object(O.a)({},e,{isFetching:!1,data:t.payload})})),Object(f.a)(n,k,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;return Object(O.a)({},e,{isFetching:!1,error:t.payload})})),Object(f.a)(n,G,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;return Object(O.a)({},e,{data:e.data.filter((function(e){return e._id!==t.payload}))})})),Object(f.a)(n,I,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;return Object(O.a)({},e,{error:t.payload})})),n),T),R=Object(y.a)("SAVE_CATEGORY"),F=Object(y.a)("GET_CATEGORIES_START"),L=Object(y.a)("GET_CATEGORIES_END"),N=Object(y.a)("GET_CATEGORIES_ERROR"),A=Object(y.a)("DELETE_CATEGORY_SUCCESS"),U=Object(y.a)("DELETE_CATEGORY_ERROR"),B={data:[],isFetching:!1},Y=Object(j.a)((r={},Object(f.a)(r,R,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;return Object(O.a)({},e,{data:[].concat(Object(D.a)(e.data),[{name:t.payload}])})})),Object(f.a)(r,F,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;arguments.length>1&&arguments[1];return Object(O.a)({},e,{isFetching:!0})})),Object(f.a)(r,L,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;return Object(O.a)({},e,{isFetching:!1,data:t.payload})})),Object(f.a)(r,N,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;return Object(O.a)({},e,{isFetching:!1,error:t.payload})})),Object(f.a)(r,A,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;return Object(O.a)({},e,{data:e.data.filter((function(e){return e._id!==t.payload}))})})),Object(f.a)(r,U,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;return Object(O.a)({},e,{error:t.payload})})),r),B),X=Object(b.b)({form:v.a,user:x,expenses:P,categories:Y}),M=Object(b.c)(X,{},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),q=a(695),J=a(692),V=a(694),K=a(690),H=function(e){return e?void 0:"Required"},W=function(e){return function(t){return t&&t.length<e?"Must be at least ".concat(e," symbols"):void 0}},z=W(5),$=W(2),Q=a(321),Z=a.n(Q),ee=a(444),te=function(e){var t=e.url,a=e.method,n=void 0===a?"get":a,r=e.data,o=void 0===r?{}:r,c=localStorage.getItem("token"),l={};return c&&(l=Object(O.a)({},l,{Authorization:"Bearer ".concat(c)})),Z()({url:"".concat(ee.apiUrl).concat(t),method:n,data:o,headers:l}).then((function(e){return e.data})).catch((function(e){return console.log(e),Promise.reject(e)}))},ae=a(139),ne=function(e){var t=e.input,a=e.meta,n=Object(ae.a)(e,["input","meta"]),r=a.valid,o=a.error,l=a.touched;return c.a.createElement(c.a.Fragment,null,c.a.createElement(V.a.Control,Object.assign({},t,n,{isInvalid:l&&!r})),l&&o&&c.a.createElement(V.a.Control.Feedback,{type:"invalid"},o))},re=Object(J.a)({form:"simple",initialValues:{username:"",password:""}})((function(e){var t=e.handleSubmit,a=e.pristine,n=e.submitting,r=e.fetchUser,o=(e.userData,e.history);return c.a.createElement(V.a,{onSubmit:t((function(e){(function(e){var t=e.username,a=e.password;return te({url:"/login",method:"post",data:{username:t,password:a}})})({username:e.username,password:e.password}).then((function(e){var t=e.token,a=e.user;localStorage.setItem("token",t),localStorage.setItem("user",JSON.stringify(a)),r(a)})).then((function(){o.push("/expenses")}))}))},c.a.createElement(V.a.Label,null,"Sign In"),c.a.createElement(V.a.Group,{controlId:"formBasicEmail"},c.a.createElement(V.a.Label,null,"Email"),c.a.createElement(q.a,{name:"username",component:ne,type:"text",placeholder:"Username",validate:[H]})),c.a.createElement(V.a.Group,{controlId:"formBasicPassword"},c.a.createElement(V.a.Label,null,"Password"),c.a.createElement(q.a,{name:"password",component:ne,type:"password",placeholder:"Password",validate:[H,z]})),c.a.createElement("div",null,c.a.createElement(K.a,{variant:a?"danger":"success",type:"submit",disabled:n},"Submit")))})),oe=Object(g.b)((function(e){return{userData:e.user.data}}),{fetchUser:S})(re),ce=a(87),le=a(691),ie=a(698),ue=a(77),se=[{name:"Page A",uv:1e3,pv:2400,amt:2400,uvError:[75,20]},{name:"Page B",uv:300,pv:4567,amt:2400,uvError:[90,40]},{name:"Page C",uv:280,pv:1398,amt:2400,uvError:40},{name:"Page D",uv:200,pv:9800,amt:2400,uvError:20},{name:"Page E",uv:278,pv:null,amt:2400,uvError:28},{name:"Page F",uv:189,pv:4800,amt:2400,uvError:[90,20]},{name:"Page G",uv:189,pv:4800,amt:2400,uvError:[28,40]},{name:"Page H",uv:189,pv:4800,amt:2400,uvError:28},{name:"Page I",uv:189,pv:4800,amt:2400,uvError:28},{name:"Page J",uv:189,pv:4800,amt:2400,uvError:[15,60]}],me=function(){return c.a.createElement(ue.c,{width:400,height:400,data:se,margin:{top:5,right:20,left:10,bottom:5}},c.a.createElement(ue.e,{dataKey:"name"}),c.a.createElement(ue.d,null),c.a.createElement(ue.a,{stroke:"#f5f5f5"}),c.a.createElement(ue.b,{type:"monotone",dataKey:"uv",stroke:"#ff7300",yAxisId:0}),c.a.createElement(ue.b,{type:"monotone",dataKey:"pv",stroke:"#387908",yAxisId:1}))},de=a(696),pe=function(e){var t=e.history;return c.a.createElement(de.a,{defaultActiveKey:"/home",as:"ul"},c.a.createElement(de.a.Item,{as:"li"},c.a.createElement(de.a.Link,{onClick:function(){t.push("/categories")}},"Categories")),c.a.createElement(de.a.Item,{as:"li"},c.a.createElement(de.a.Link,{onClick:function(){t.push("/expenses")}},"Expenses")),c.a.createElement(de.a.Item,{as:"li"},c.a.createElement(de.a.Link,{onClick:function(){t.push("/login")}},"Login")))},Ee=function(e){var t=e.children,a=Object(h.f)();return c.a.createElement("div",null,c.a.createElement(pe,{history:a}),c.a.createElement(c.a.Fragment,null,t))},he=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleDelete=a.handleDelete.bind(Object(ce.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.GetExpensesStart,a=e.GetExpensesEnd,n=e.GetExpensesError;t(),te({url:"/expenses",method:"get"}).then((function(e){a(e)})).catch((function(e){n(e),console.log(e)}))}},{key:"handleDelete",value:function(e){var t,a=this,n=e.target.value;(t=n,te({url:"/expenses/delete/".concat(t),method:"get"})).then((function(e){a.props.DeleteExpenseSuccess(e._id)})).catch((function(e){I(e),console.log(e)}))}},{key:"render",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement(me,null),c.a.createElement(Ee,null),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"container"},c.a.createElement(le.a,null,c.a.createElement(E.b,{to:"/expenses/create"},c.a.createElement(K.a,null,"New expense")),c.a.createElement(E.b,{to:"/categories/create",style:{marginLeft:"10px"}},c.a.createElement(K.a,null,"New category"))),c.a.createElement("hr",null),this.props.expenses&&this.props.expenses.map((function(t){return c.a.createElement(ie.a,{key:t._id},c.a.createElement(ie.a.Body,null,c.a.createElement(ie.a.Text,null,t.amount," \u0433\u0440\u0438\u0432\u0435\u043d\u044c "),c.a.createElement(ie.a.Text,null,t.description),c.a.createElement(K.a,{variant:"danger",value:t._id,onClick:e.handleDelete},"Delete")))})))))}}]),t}(c.a.Component),ge=Object(g.b)((function(e){return{expenses:e.expenses.data}}),{GetExpensesStart:w,GetExpensesEnd:C,GetExpensesError:k,DeleteExpenseSuccess:G,DeleteExpenseError:I})(he),be=a(36),ve=a(96),fe=function(){return te({url:"/categories",method:"get"})},Oe=function(e){var t=e.input,a=e.meta,n=e.categories,r=Object(ae.a)(e,["input","meta","categories"]),o=a.valid,l=a.error,i=a.touched;return c.a.createElement(c.a.Fragment,null,c.a.createElement(V.a.Control,Object.assign({},t,r,{as:"select",isInvalid:i&&!o}),c.a.createElement("option",null),n&&n.map((function(e){return c.a.createElement("option",{key:e._id,value:e._id},e.name)}))),i&&l&&c.a.createElement(V.a.Control.Feedback,{type:"invalid"},l))},je=(a(582),a(626),a(334)),ye=a(12),Se=a.n(ye),xe=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={focused:!1},a.onFocusChange=function(e){a.setState({focused:!a.state.focused}),a.props.input.onFocus(e)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.input,a=e.meta,n=a.touched,r=a.error,o=e.placeholder,l=e.disabled,i=this.state.focused;return c.a.createElement(c.a.Fragment,null,c.a.createElement(je.SingleDatePicker,{showClearDate:!0,showDefaultInputIcon:!0,displayFormat:"YYYY-MM-DD",numberOfMonths:1,disabled:l,placeholder:o,date:t.value,onDateChange:t.onChange,focused:i,onFocusChange:this.onFocusChange,id:t.name,required:!0}),n&&r&&c.a.createElement("div",{style:{color:"red"}},r))}}]),t}(o.PureComponent),De=function(e){return e?Se()(e):null},_e=function(e){return e?e.format("YYYY-MM-DD"):null},we=xe,Ce=Object(J.a)({form:"expense"})((function(e){var t=e.handleSubmit,a=e.pristine,n=e.submitting,r=e.AddExpense,l=(e.expensesData,e.history),i=Object(o.useState)([]),u=Object(be.a)(i,2),s=u[0],m=u[1];return Object(o.useEffect)((function(){fe().then((function(e){m(e)}))}),[]),c.a.createElement(V.a,{onSubmit:t((function(e){var t=e.amount,a=e.category,n=e.date;(function(e){var t=e.amount,a=e.category,n=e.description,r=e.date,o=e.owner;return te({url:"/expenses/create",method:"post",data:{amount:t,category:a,description:n,date:r,owner:o}})})({amount:t,category:a,description:e.description,date:n,owner:localStorage.getItem("user")._id}).then((function(e){r(e),l.push("/expenses")})).catch((function(e){return console.log(e)}))}))},c.a.createElement(V.a.Group,{controlId:"formBasicAmount"},c.a.createElement(V.a.Label,null,"Amount"),c.a.createElement(q.a,{name:"amount",component:ne,type:"text",placeholder:"Amount...",validate:[Object(ve.required)()]})),c.a.createElement(V.a.Group,{controlId:"formBasicCategory"},c.a.createElement(V.a.Label,null,"Category"),c.a.createElement(q.a,{name:"category",component:Oe,validate:[Object(ve.required)()],categories:s})),c.a.createElement(V.a.Group,{controlId:"formBasicDescription"},c.a.createElement(V.a.Label,null,"Description"),c.a.createElement(q.a,{name:"description",component:ne,type:"text",placeholder:"Description...",validate:[Object(ve.required)()]})),c.a.createElement(V.a.Group,{controlId:"formBasicDate"},c.a.createElement(V.a.Label,null,"Date"),c.a.createElement(q.a,{name:"date",component:we,placeholder:"Date...",parse:_e,format:De,validate:[Object(ve.required)(),Object(ve.date)()]})),c.a.createElement("div",null,c.a.createElement(K.a,{variant:a?"danger":"success",type:"submit",disabled:n},"Submit")))})),ke=Object(g.b)((function(e){return{expensesData:e.expenses.data}}),{AddExpense:_})(Ce),Ge=Object(J.a)({form:"category",initialValues:{name:""}})((function(e){var t=e.handleSubmit,a=e.pristine,n=e.submitting,r=e.insertCategory,o=e.history;return c.a.createElement(V.a,{onSubmit:t((function(e){(function(e){return te({url:"/categories/create",method:"post",data:{name:e}})})(e.name).then((function(e){var t=e.category;localStorage.setItem("category",t),r(t),o.push("/categories")}))}))},c.a.createElement(V.a.Group,{controlId:"categoryName"},c.a.createElement(V.a.Label,null,"\u0421ategory name:"),c.a.createElement(q.a,{name:"name",component:ne,type:"text",placeholder:"name of category...",validate:[H,$]})),c.a.createElement("div",null,c.a.createElement(K.a,{variant:a?"danger":"success",type:"submit",disabled:n},"Submit")))})),Ie=Object(g.b)((function(e){return{categories:e.categories.data}}),{insertCategory:R})(Ge),Te=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleDelete=a.handleDelete.bind(Object(ce.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.GetCategoriesStart,a=e.GetCategoriesEnd,n=e.GetCategoriesError;t(),fe().then((function(e){a(e)})).catch((function(e){n(e),console.log(e)}))}},{key:"handleDelete",value:function(e){var t,a=this,n=e.target.value;(t=n,te({url:"/categories/delete/".concat(t),method:"get"})).then((function(e){a.props.DeleteCategorySuccess(e._id)})).catch((function(e){U(e),console.log(e)})),window.location.reload()}},{key:"render",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ee,null),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"container"},c.a.createElement(le.a,null,c.a.createElement(E.b,{to:"/categories/create"},c.a.createElement(K.a,null,"New category")),c.a.createElement(E.b,{to:"/expenses",style:{marginLeft:"10px"}},c.a.createElement(K.a,null,"Return to expenses"))),c.a.createElement("hr",null),this.props.categories&&this.props.categories.map((function(t){return c.a.createElement(ie.a,{key:t._id},c.a.createElement(ie.a.Body,null,c.a.createElement(ie.a.Text,null,t.name," "),c.a.createElement(K.a,{variant:"danger",value:t._id,onClick:e.handleDelete},"Delete")))})))))}}]),t}(c.a.Component),Pe=Object(g.b)((function(e){return{categories:e.categories.data}}),{GetCategoriesStart:F,GetCategoriesEnd:L,GetCategoriesError:N,DeleteCategorySuccess:A,DeleteCategoryError:U})(Te),Re=Object(J.a)({form:"simple"})((function(e){var t=e.handleSubmit,a=e.pristine,n=e.submitting,r=e.fetchUser,o=e.history;return c.a.createElement(V.a,{onSubmit:t((function(e){(function(e){var t=e.username,a=e.password;return te({url:"/register",method:"post",data:{username:t,password:a}})})({username:e.username,password:e.password}).then((function(e){var t=e.user,a=e.token;localStorage.setItem("token",a),localStorage.setItem("user",JSON.stringify(t)),r(t)})).then((function(){o.push("/expenses")})).catch((function(e){return console.log(e)}))}))},c.a.createElement(V.a.Label,null,"Sign Up"),c.a.createElement(V.a.Group,{controlId:"formBasicEmail"},c.a.createElement(V.a.Label,null,"Username"),c.a.createElement(q.a,{name:"username",component:ne,type:"text",placeholder:"Username",validate:[H]})),c.a.createElement(V.a.Group,{controlId:"formBasicPassword"},c.a.createElement(V.a.Label,null,"Password"),c.a.createElement(q.a,{name:"password",component:ne,type:"password",placeholder:"Password",validate:[H,z]})),c.a.createElement("div",null,c.a.createElement(K.a,{variant:a?"danger":"success",type:"submit",disabled:n},"Submit")))})),Fe=Object(g.b)(null,{fetchUser:S})(Re),Le=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement(g.a,{store:M},c.a.createElement(E.a,null,c.a.createElement(h.c,null,c.a.createElement(h.a,{exact:!0,path:"/login",component:oe}),c.a.createElement(h.a,{exact:!0,path:"/register",component:Fe}),c.a.createElement(h.a,{exact:!0,path:"/expenses",component:ge}),c.a.createElement(h.a,{exact:!0,path:"/expenses/create",component:ke}),c.a.createElement(h.a,{exact:!0,path:"/categories",component:Pe}),c.a.createElement(h.a,{exact:!0,path:"/categories/create",component:Ie}),c.a.createElement(h.a,{path:"/",component:oe}))))}}]),t}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(Le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[366,1,2]]]);
//# sourceMappingURL=main.f1236923.chunk.js.map